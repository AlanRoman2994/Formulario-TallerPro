<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Formulario Taller</title>
    <style>
        .error { color: red; font-size: 0.9em; }
        .form-group { margin-bottom: 1em; }
        input { padding: 0.3em; }
    </style>
    <!-- Bonus: Inputmask.js CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/inputmask/5.0.8/inputmask.min.js"></script>
</head>
<body>
    <h2>Formulario de Taller</h2>
    <form id="formulario">
        <div class="form-group">
            <label for="nombre">Nombre:</label>
            <input type="text" id="nombre" name="nombre">
            <div class="error" id="error-nombre"></div>
        </div>
        <div class="form-group">
            <label for="email">Email:</label>
            <input type="email" id="email" name="email">
            <div class="error" id="error-email"></div>
        </div>
        <div class="form-group">
            <label for="telefono">Teléfono:</label>
            <input type="text" id="telefono" name="telefono">
            <div class="error" id="error-telefono"></div>
        </div>
        <div class="form-group">
            <label for="importe">Importe:</label>
            <input type="text" id="importe" name="importe">
            <div class="error" id="error-importe"></div>
        </div>
        <div class="form-group">
            <label for="password">Contraseña:</label>
            <input type="password" id="password" name="password">
            <div class="error" id="error-password"></div>
        </div>
        <div class="form-group">
            <label for="confirm-password">Confirmar Contraseña:</label>
            <input type="password" id="confirm-password" name="confirm-password">
            <div class="error" id="error-confirm-password"></div>
        </div>
        <button type="submit">Enviar</button>
    </form>

    <script>
        // Bonus: Inputmask para teléfono (formato argentino)
        Inputmask({"mask": "(999) 999-9999"}).mask(document.getElementById('telefono'));

        document.getElementById('formulario').addEventListener('submit', function(e) {
            let errores = false;

            // Limpiar errores previos
            document.querySelectorAll('.error').forEach(el => el.textContent = '');

            // Validación de campos vacíos
            const nombre = document.getElementById('nombre').value.trim();
            if (!nombre) {
                document.getElementById('error-nombre').textContent = 'El nombre es obligatorio.';
                errores = true;
            }

            // Validación de email
            const email = document.getElementById('email').value.trim();
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!email) {
                document.getElementById('error-email').textContent = 'El email es obligatorio.';
                errores = true;
            } else if (!emailRegex.test(email)) {
                document.getElementById('error-email').textContent = 'El formato de email no es válido.';
                errores = true;
            }

            // Validación de teléfono (bonus: expresión regular argentina)
            const telefono = document.getElementById('telefono').value.trim();
            const telRegex = /^\(\d{3}\) \d{3}-\d{4}$/;
            if (!telefono) {
                document.getElementById('error-telefono').textContent = 'El teléfono es obligatorio.';
                errores = true;
            } else if (!telRegex.test(telefono)) {
                document.getElementById('error-telefono').textContent = 'El formato de teléfono debe ser (xxx) xxx-xxxx.';
                errores = true;
            }

            // Validación de importe (decimal)
            const importe = document.getElementById('importe').value.trim();
            const importeRegex = /^\d+(\.\d{1,2})?$/;
            if (!importe) {
                document.getElementById('error-importe').textContent = 'El importe es obligatorio.';
                errores = true;
            } else if (!importeRegex.test(importe)) {
                document.getElementById('error-importe').textContent = 'El importe debe ser un número decimal válido.';
                errores = true;
            }

            // Validación de contraseñas
            const password = document.getElementById('password').value;
            const confirmPassword = document.getElementById('confirm-password').value;
            if (!password) {
                document.getElementById('error-password').textContent = 'La contraseña es obligatoria.';
                errores = true;
            }
            if (!confirmPassword) {
                document.getElementById('error-confirm-password').textContent = 'Debe confirmar la contraseña.';
                errores = true;
            } else if (password && password !== confirmPassword) {
                document.getElementById('error-confirm-password').textContent = 'Las contraseñas no coinciden.';
                errores = true;
            }

            // Evitar envío si hay errores
            if (errores) {
                e.preventDefault();
            }
        });
    </script>
</body>
</html>